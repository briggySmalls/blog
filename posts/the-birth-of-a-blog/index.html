<!DOCTYPE html>
<html>

<head>
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="description" content="The software blog of Sam Briggs, just another nerd.">
<title>
The birth of a blog - Sam Briggs [software developer]
</title>











<link rel="stylesheet" href="/css/main.min.81bbafc4df93b11c1c3e2449464373c384aa4903731b4fc7a77dfcdd979e184f.css" integrity="sha256-gbuvxN&#43;TsRwcPiRJRkNzw4SqSQNzG0/Hp3383ZeeGE8=" crossorigin="anonymous" media="screen">



 

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="The birth of a blog"/>
<meta name="twitter:description" content="How I built and deployed this website, including stack-selection and pipeline pitfalls!"/>

<meta property="og:title" content="The birth of a blog" />
<meta property="og:description" content="How I built and deployed this website, including stack-selection and pipeline pitfalls!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sambriggs.dev/posts/the-birth-of-a-blog/" />
<meta property="article:published_time" content="2020-02-03T14:59:18+00:00" />
<meta property="article:modified_time" content="2020-02-03T14:59:18+00:00" /><meta property="og:site_name" content="Sam Briggs" />


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-157531859-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    

    
    
    
    <title>
        
        The birth of a blog
        
    </title>
</head>

<body>
    <div class="wrap">
        <div class="section" id="title">The birth of a blog</div>

        
<div class="section" id="content">
    3 Feb 2020 &#183; 515 words
    
    <div class="tag-container">
        
        <span class="tag">
            <a href="https://sambriggs.dev/tags/hugo">
                hugo
            </a>
        </span>
        
        <span class="tag">
            <a href="https://sambriggs.dev/tags/web">
                web
            </a>
        </span>
        
    </div>
    
    <hr/>
    <h2 id="introduction">Introduction</h2>
<p>This post is about how I set up this site!</p>
<h2 id="framework">Framework</h2>
<p>So I wanted a static site generator. You know, the trendy, &lsquo;lightning-fast&rsquo;, modern-web-has-gone-full-circle
technology. Because I just want to write some text that people can read, and I can execute a build step
without hurting myself.</p>
<blockquote>
<p>Perfect is the enemy of good</p>
</blockquote>
<p>Knowing I&rsquo;m the kind of person who often lets perfect get the better of me, I didn&rsquo;t want to get stuck
at step one <em>this</em> time.</p>
<p>I took the top three static site frameworks from <a href="stackshare-generators">stackshare</a>: Jekyll, Gatsby,
Hugo. And whittled them down through opinionated first-impressions and prejudices:</p>
<ol>
<li><a href="https://www.gatsbyjs.org/">Gatsby</a> is react-based and seemed to be peddling <a href="https://jamstack.org/">JAMstack</a>
&lsquo;webapp&rsquo;. This sounded a lot like &lsquo;javascript bloat&rsquo; for a blog use-case.</li>
<li>I&rsquo;d used <a href="https://jekyllrb.com/">Jekyll</a> once before, and for my chosen theme I had to commit some
file dump and modify the theme files directly. Maybe this isn&rsquo;t always the case, but my experience
scarred me. No theme updates?</li>
<li><a href="https://gohugo.io/">Hugo</a> is like Jekyll, but <em>new</em>, and Go ü•∞.</li>
</ol>
<h2 id="setup">Setup</h2>
<p>Being on mac, installing Hugo with <a href="https://brew.sh/">homebrew</a> is breezy:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">brew install hugo
</code></pre></div><p>And following their <a href="https://gohugo.io/getting-started/quick-start/">quick-start</a> was straightforward
enough.</p>
<p>After my Jekyll experience I was delighted to find themes are tracked as git submodules. Themes are swappable
and updates are easy! üôå</p>
<h2 id="deployment">Deployment</h2>
<h3 id="netlify-misfire">Netlify misfire</h3>
<p>I had assumed I&rsquo;d host for free with <a href="https://www.netlify.com/">netlify</a>, another trendy platform where
Hugo is a first-class citizen.</p>
<p>But after linking to my GitHub repo and configuring the build command I was greeted with:</p>
<!-- raw HTML omitted -->
<pre><code>Transformation failed: POSTCSS: failed to transform ‚Äúcss/main.css‚Äù (text/css): PostCSS not found; install with ‚Äúnpm install postcss-cli‚Äù. See https://gohugo.io/hugo-pipes/postcss/ 2
</code></pre><!-- raw HTML omitted -->
<p>It turns out my chosen theme (<a href="https://themes.gohugo.io/hugo-theme-sam/">Call me Sam</a> - what a narcissist!)
depended on the <a href="https://gohugo.io/hugo-pipes/postcss/">PostCSS &lsquo;Hugo Pipe&rsquo;</a>, which meant I needed
some npm packages installed globally.</p>
<p>Whilst I could fix my local build like this easily enough, it was less obvious where to do this with
Netlify. Was node preinstalled? Can I execute multiple build commands?</p>
<!-- raw HTML omitted -->
<h3 id="if-you-want-a-job-done-right">If you want a job done right&hellip;</h3>
<!-- raw HTML omitted -->
<p>I decided to take control of the build pipeline myself. Who knows what future dependencies I might want?
If I had to learn some platform-specific configuration, I&rsquo;d rather use one where I knew I couldn&rsquo;t
hit a brick wall.</p>
<p>So I built the site in a <a href="https://circleci.com/">circleci</a> pipeline and deployed to GitHub pages. I
like circleci because you can use docker images for each job, unlike e.g. travis, which can save some
time installing dependencies.</p>
<p>After following some <a href="circleci-tutorial-github">instructions</a>, the job that pushes to GitHub pages announced:</p>
<!-- raw HTML omitted -->
<pre><code>ERROR: The key you are authenticating with has been marked as read only.
</code></pre><!-- raw HTML omitted -->
<p>Clearly I&rsquo;d lost patience reading, because the &lsquo;Provisioning a deploy key&rsquo; section contained it all.
Once I created a new key and gave the public part to GitHub and the private to circleci I was in business!
Seriously, take your time with that article, it has everything you need.</p>
<p>You can see the pipeline config <a href="blog-circleci-config">here</a> in all its glory.</p>
<h2 id="conclusion">Conclusion</h2>
<p>And there we have it! A Hugo site, built on circleci, deployed on GitHub pages. The internet has yet
another blog.</p>

</div>


        
<div class="section bottom-menu">
    
<hr />
<p>


    
        <a href="/posts">back</a>
        
            &#183;
        
    

    
        
            <a href="/about">about</a>
        
    
    
        
            &#183; 
            <a href="/posts">posts</a>
        
            &#183; 
            <a href="https://github.com/briggySmalls">github</a>
        
    
    &#183; 
    <a href="https://sambriggs.dev/">
        home
    </a>

</p>
</div>


        <div class="section footer">The software blog of Sam Briggs, just another nerd.</div>
    </div>
</body>

</html>